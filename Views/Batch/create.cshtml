@model batchViewModel

@{
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
    ViewBag.Title = "Add a new Batch";
}

    <div class="panel panel-default">
        <div class="panel-heading main-color-bg">
            <h3 class="panel-title">Create a new Batch</h3>
        </div>
        <form asp-controller="Batch" asp-action="create" method="post" class="mt-3 panel-body">
            @*<input asp-for="studentID" class="form-control" /><span class="text-danger" asp-validation-for="studentID"></span>*@

            <div class="form-group row">
                <label asp-for="BatchName" class="col-sm-2 col-form-label"></label>
                <div class="col-sm-10"><select asp-for="BatchName" asp-items="Html.GetEnumSelectList<batchName>()" class="form-control"></select></div>
            </div>
            <div class="form-group row">
                <label asp-for="Title" class="col-sm-2 col-form-label"></label>
                <div class="col-sm-10"><select asp-for="Title" asp-items="Html.GetEnumSelectList<title>()" class="form-control"></select></div>
            </div>
            <div class="form-group row">
                <label asp-for="FirstName" class="col-sm-2 col-form-label"></label>
                <div class="col-sm-10">
                    <input asp-for="FirstName" class="form-control" /><span class="text-danger" asp-validation-for="FirstName"></span>
                </div>
            </div>
            <div class="form-group row">
                <label asp-for="LastName" class="col-sm-2 col-form-label"></label>
                <div class="col-sm-10">
                    <input asp-for="LastName" class="form-control" /><span class="text-danger" asp-validation-for="LastName"></span>
                </div>
            </div>
            <div class="form-group row">
                <label asp-for="startDate" class="col-sm-2 col-form-label"></label>
                <div class="col-sm-10">
                    <input asp-for="startDate" class="form-control" id="datex" /><span class="text-danger" asp-validation-for="startDate"></span>
                </div>
            </div>

            <div class="form-group row">
                <label asp-for="endDate" class="col-sm-2 col-form-label"></label>
                <div class="col-sm-10">
                    <input asp-for="endDate" class="form-control" id="datex"/><span class="text-danger" asp-validation-for="endDate"></span>
                </div>
            </div>
            <div class="form-group row">
                <label asp-for="programName"></label>
                @Html.DropDownList("selectedProgram", new SelectList(Model.programName.Select(x => new { Value = x.Id, Text = x.Program_Name }), "Value", "Text"))
            </div>


            <div class="form-group row">
                <div class="col-sm-6"><button type="submit" class="form-group btn btn-success">Add Batch</button></div>
            </div>
            <div class="form-group row">
                <div class="col-sm-6"><a asp-controller="Batch" asp-action="Index" class="form-group btn btn-primary">Done</a></div>
            </div>
        </form>
    </div>

@section  scripts{ 
    <script>
        //code to set max date for dateTime
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth() + 1; // Jan is 0
        var yyyy = today.getFullYear();
        if (dd<10) {
            dd = "0" + dd;
        }
        if (mm<10) {
            mm = "0" + mm;
        }
        today = yyyy + "-" + mm + "-" + dd;
        document.getElementById("datex").setAttribute("max", today);
    </script>
}